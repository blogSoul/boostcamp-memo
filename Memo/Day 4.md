## ğŸ“• Day 4 - BoostCamp

í•´ë‹¹ ê³¼ì œë¥¼ ë§Œë“¤ ë•Œ ë§Œë“  ë°©ì‹ :

ì¼ë‹¨ javascriptëŠ” ê°ì²´ì— ëŒ€í•œ ì£¼ì†Œë¥¼ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  í¬ì¸í„° ê°œë…ë„ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì§ì ‘ ì£¼ì†Œë¥¼ ë§Œë“¤ì–´ ê°ì²´ë§ˆë‹¤ ì£¼ì†Œê°’ì„ ì¶”ê°€í•´ ì£¼ëŠ” ë°©ì‹ì„ íƒí–ˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  4 ë°”ì´íŠ¸ ê¸°ì¤€ìœ¼ë¡œ ë©”ëª¨ë¦¬ êµ¬ì¡°ë¥¼ ì§œë¼ê³  ë˜ì–´ìˆì§€ë§Œ 4ë°”ì´íŠ¸ë¡œ ì§œë©´ intí˜•ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ íƒ€ì…ì„ ì„ ì–¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  javascriptëŠ” ë©”ëª¨ë¦¬ í• ë‹¹ì„ ì§ì ‘í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê°ì²´ë¡œ ë©”ëª¨ë¦¬ í¬ê¸°ë¥¼ ì§€ì •í•´ì£¼ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

* stack ê°ì²´ 

```javascript
{
    type : type, // ì–´ë–¤ íƒ€ì…ìœ¼ë¡œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€
    address : addressToHex(address), // í¬ì¸í„° ì£¼ì†Œê°€ ì–´ë–¤ì§€
    count : 4, // ì–¼ë§ˆë‚˜ í• ë‹¹ë˜ì–´ ìˆëŠ”ì§€ (í¬ì¸í„° í¬ê¸°ëŠ” 4ë¡œ ì§€ì •)
    name : ""
}
```

* heap ê°ì²´

```javascript
{
    type : type, // ì–´ë–¤ íƒ€ì…ìœ¼ë¡œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€
    address : addressToHex(address), // í¬ì¸í„° ì£¼ì†Œê°€ ì–´ë–¤ì§€
    count : typeSize * count // ì–¼ë§ˆë‚˜ í• ë‹¹ë˜ì–´ ìˆëŠ”ì§€
}
```

stack ëª…ë ¹ì–´ëŠ” 8byteë¡œ ì„¤ì •

### í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ ëª¨ë¸

![20210723_020001](https://user-images.githubusercontent.com/42922298/126678901-e8f5fc82-6022-4268-9d3e-302006104ef5.png)

![20210723_015621](https://user-images.githubusercontent.com/42922298/126678898-2e24bcd2-bd43-43ef-b8e7-63342c47aff4.png)


Node.jsëŠ” V8 ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.

Heap ì˜ì—­ : ì°¸ì¡°í˜• ë°ì´í„°ì˜ ì‹¤ì²´(ë°°ì—´, ê°ì²´)ì™€ ë™ì  ë°ì´í„°(ë°°ì—´, ê°ì²´ì— ì‚¬ìš©ëœ ë¦¬í„°ëŸ´ ë°ì´í„°)ê°€ ì €ì¥ë˜ëŠ” ì˜ì—­

New ì˜ì—­ (Young Gen.) : ìµœê·¼ì— ë§Œë“¤ì–´ì§„ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ì¥ì†Œ

Old ì˜ì—­ (Old Gen.) : 2ë²ˆì˜ Minor GCì—ì„œ ì‚´ì•„ë‚¨ì€ ê°ì²´ë“¤ì€ Old ì˜ì—­ìœ¼ë¡œ ì´ë™
 
Stack ì˜ì—­ : Heapì— ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¸ì¡°í•˜ëŠ” í¬ì¸í„°ì™€ í•¨ê»˜ ëª¨ë“œ value íƒ€ì…ì„ í¬í•¨ë˜ëŠ” ì¥ì†Œ

### Process ê°ì²´ì— ê´€í•˜ì—¬

Process ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ì œ í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ê°€ ì–´ë–»ê²Œ ê´€ë¦¬ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì°¸ê³  : https://nodejs.org/api/process.html

### í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ ë™ì‘ ë°©ì‹

![7KpvEn1](https://user-images.githubusercontent.com/42922298/126677978-67a1aea1-695e-411b-8aa7-15b3ea9fbbab.gif)

ì´ì™€ ê°™ì´ stackì—ëŠ” ì£¼ì†Œê°€ heapì—ëŠ” ì‹¤ì œ ê°’ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

### javascript ë™ì‘ì›ë¦¬

V8 : êµ¬ê¸€ì´ ì£¼ë„í•˜ì—¬ C++ë¡œ ì‘ì„±ëœ ê³ ì„±ëŠ¥ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ & ì›¹ ì–´ì…ˆë¸”ë¦¬ ì–¸ì–´ì´ë‹¤. (ECMAScriptì™€ Web Assembly í‘œì¤€ì— ë§ê²Œ êµ¬í˜„)

![20210723_074406](https://user-images.githubusercontent.com/42922298/126718325-fcc3e751-906d-44f6-9deb-1223c5bdbb60.png)

1. javascript source codeë¥¼ ê°€ì ¸ì™€ Parserì—ê²Œ ë„˜ê¹€
   
2. ParserëŠ” parsingì„ í†µí•´ AST(Abstract Syntax Tree)ë¡œ ë³€í™˜
   
3. ASTë¥¼ interpreterë¥¼ í†µí•´ byte codeë¡œ ë³€í™˜ (=Ignition)
   
4. ê·¸ë¦¬ê³  bytecodeë¥¼ ì‹¤í–‰í•¨ìœ¼ë¡œì¨ ì‹¤ì œ ì‘ë™í•˜ê²Œ ëœë‹¤.
   
5. ê·¸ ì¤‘ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì½”ë“œëŠ” TruboFanìœ¼ë¡œ ë³´ë‚´ì§„ë‹¤.
   
6. TruboFanì€ ì´ ì½”ë“œë¥¼ Optimized Machine Codeë¡œ compileí•œ í›„ ì‚¬ìš©.

### ğŸ Remark 

Pointers and dynamic memory - stack vs heap ì˜ìƒ :

https://www.youtube.com/watch?v=_8-ht2AKyH4&list=LL&index=5&t=11s

V8 ì—”ì§„(ìë°”ìŠ¤í¬ë¦½íŠ¸, NodeJS, Deno, WebAssembly) ë‚´ë¶€ì˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ì‹œê°í™”í•˜ê¸° :

https://ui.toast.com/weekly-pick/ko_20200228

JavaScript ë¥¼ í†µí•´ Binary Data ì¡°ì‘í•˜ê¸° :

http://mohwa.github.io/blog/javascript/2015/08/31/binary-inJS/
